------------------------------
üìÑ Fichier : src/index.html
------------------------------
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>CafeEcommerceApp</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
</head>
<body>
  <app-root></app-root>
</body>
</html>

------------------------------
üìÑ Fichier : src/app/app.component.html
------------------------------
<app-header></app-header>
<main class="router-main">
    <router-outlet></router-outlet>
</main>
<app-footer></app-footer>

------------------------------
üìÑ Fichier : src/app/app.spec.ts
------------------------------
import { TestBed } from '@angular/core/testing';
import { App } from './app';

describe('App', () => {
  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [App],
    }).compileComponents();
  });

  it('should create the app', () => {
    const fixture = TestBed.createComponent(App);
    const app = fixture.componentInstance;
    expect(app).toBeTruthy();
  });

  it('should render title', () => {
    const fixture = TestBed.createComponent(App);
    fixture.detectChanges();
    const compiled = fixture.nativeElement as HTMLElement;
    expect(compiled.querySelector('h1')?.textContent).toContain('Hello, cafe-ecommerce-app');
  });
});

------------------------------
üìÑ Fichier : src/app/app.component.scss
------------------------------
.router-main {
    /* Assure que le contenu ne passe pas sous le header fixe (Hauteur header ~80px) */
    padding-top: 80px; 
    min-height: calc(100vh - 80px); /* Assure que le footer est bien en bas */
}

------------------------------
üìÑ Fichier : src/app/app.routes.ts
------------------------------
import { Routes } from '@angular/router';
import { HomeComponent } from './components/home/home.component';
import { ProductsComponent } from './pages/products/products.component';
import { ProductDetailComponent } from './pages/products/product-detail.component';
import { CartComponent } from './pages/cart/cart.component';
import { CheckoutComponent } from './pages/checkout/checkout.component';
import { ContactComponent } from './pages/contact/contact.component';
import { LoginComponent } from './pages/login/login.component';
import { SignupComponent } from './pages/signup/signup.component';
import { AdminComponent } from './pages/admin/admin.component';
import { CrudProductsComponent } from './pages/admin/crud-products/crud-products.component';
import { OrdersComponent } from './pages/admin/orders/orders.component';
import { UserOrdersComponent } from './pages/user-orders/user-orders.component';

export const routes: Routes = [
  { path: '', component: HomeComponent },
  { path: 'products', component: ProductsComponent },
  { path: 'product/:id', component: ProductDetailComponent },
  { path: 'cart', component: CartComponent },
  { path: 'checkout', component: CheckoutComponent },
  { path: 'contact', component: ContactComponent },
  { path: 'login', component: LoginComponent },
  { path: 'signup', component: SignupComponent },
  { path: 'my-orders', component: UserOrdersComponent }, // Nouvelle route
  { path: 'admin', component: AdminComponent },
  { path: 'admin/products', component: CrudProductsComponent },
  { path: 'admin/orders', component: OrdersComponent },
  { path: '**', redirectTo: '' }
];

------------------------------
üìÑ Fichier : src/app/app.component.spec.ts
------------------------------
import { ComponentFixture, TestBed } from '@angular/core/testing';

import { AppComponent } from './app.component';

describe('AppComponent', () => {
  let component: AppComponent;
  let fixture: ComponentFixture<AppComponent>;

  beforeEach(async () => {
    await TestBed.configureTestingModule({
      imports: [AppComponent]
    })
    .compileComponents();

    fixture = TestBed.createComponent(AppComponent);
    component = fixture.componentInstance;
    fixture.detectChanges();
  });

  it('should create', () => {
    expect(component).toBeTruthy();
  });
});

------------------------------
üìÑ Fichier : src/app/app.component.ts
------------------------------
import { Component } from '@angular/core';
import { RouterOutlet } from '@angular/router';
import { HeaderComponent } from './components/header/header.component';
import { FooterComponent } from './components/footer/footer.component';
@Component({ selector: 'app-root', standalone: true, imports: [RouterOutlet, HeaderComponent, FooterComponent], template: `<app-header></app-header><main style="padding-top:75px;min-height:85vh"><router-outlet></router-outlet></main><app-footer></app-footer>` })
export class AppComponent {}

------------------------------
üìÑ Fichier : src/app/components/home/home.component.ts
------------------------------
import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterLink } from '@angular/router';

@Component({
  selector: 'app-home',
  standalone: true,
  imports: [CommonModule, RouterLink],
  template: `
    <!-- Hero Section (Slider) -->
    <section class="hero">
      <div class="slider">
        <div class="slide slide-1"></div>
        <div class="slide slide-2"></div>
        <div class="slide slide-3"></div>
      </div>
      <div class="overlay"></div>
      <div class="content">
        <h1 class="fade-in">L'Italiano Coffee</h1>
        <p class="fade-in delay-1">Le go√ªt authentique, de la f√®ve √† votre tasse.</p>
        <a routerLink="/products" class="cta-btn fade-in delay-2">Voir la Collection</a>
      </div>
    </section>

    <!-- Univers Section (Images corrig√©es) -->
    <section class="categories">
        <div class="container">
            <h2>Nos Univers</h2>
            <div class="grid">
                
                <!-- CARTE GRAINS -->
                <div class="card" routerLink="/products">
                    <div class="card-bg" style="background-image: url('/assets/cat_grains.jpg')"></div>
                    <div class="card-content">
                        <h3>Caf√© en Grains</h3>
                        <p class="sub-text">Ar√¥me intense</p>
                    </div>
                </div>

                <!-- CARTE CAPSULES -->
                <div class="card" routerLink="/products">
                    <div class="card-bg" style="background-image: url('/assets/cat_capsules.jpg')"></div>
                    <div class="card-content">
                        <h3>Capsules</h3>
                        <p class="sub-text">Compatibilit√© Parfaite</p>
                    </div>
                </div>

                <!-- CARTE MACHINES -->
                <div class="card" routerLink="/products">
                    <div class="card-bg" style="background-image: url('/assets/cat_machine.jpg')"></div>
                    <div class="card-content">
                        <h3>Machines Pro</h3>
                        <p class="sub-text">Technologie Barista</p>
                    </div>
                </div>

            </div>
        </div>
    </section>
  `,
  styles: [`
    /* Hero & Slider Styles */
    .hero { position: relative; height: 90vh; overflow: hidden; display: flex; align-items: center; justify-content: center; text-align: center; color: white; }
    .slider, .slide { position: absolute; inset: 0; width: 100%; height: 100%; }
    .slide { background-size: cover; background-position: center; opacity: 0; animation: slideShow 15s infinite; }
    
    .slide-1 { background-image: url('/assets/slider1.png'); animation-delay: 0s; }
    .slide-2 { background-image: url('/assets/slider2.png'); animation-delay: 5s; }
    .slide-3 { background-image: url('/assets/slider3.png'); animation-delay: 10s; }
    
    @keyframes slideShow { 0% { opacity: 0; transform: scale(1); } 10% { opacity: 1; } 33% { opacity: 1; } 43% { opacity: 0; transform: scale(1.1); } 100% { opacity: 0; } }
    
    .overlay { position: absolute; inset: 0; background: rgba(0,0,0,0.4); z-index: 1; }
    .content { position: relative; z-index: 2; padding: 20px; }
    h1 { font-size: 5rem; margin-bottom: 10px; text-shadow: 0 4px 20px rgba(0,0,0,0.6); font-family: 'Playfair Display', serif; }
    p { font-size: 1.5rem; margin-bottom: 30px; font-weight: 300; letter-spacing: 1px; }
    .cta-btn { background: var(--accent-color); color: #fff; padding: 15px 40px; border-radius: 30px; text-decoration: none; font-weight: bold; text-transform: uppercase; transition: 0.3s; box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
    .cta-btn:hover { background: white; color: var(--primary-color); transform: translateY(-3px); }

    /* Categories Styles */
    .categories { padding: 80px 0; text-align: center; background: #f9f9f9; }
    .grid { display: flex; justify-content: center; gap: 30px; flex-wrap: wrap; padding: 20px; }
    
    .card { width: 300px; height: 450px; position: relative; border-radius: 20px; overflow: hidden; cursor: pointer; box-shadow: 0 15px 40px rgba(0,0,0,0.1); transition: transform 0.4s ease; }
    .card:hover { transform: translateY(-10px); box-shadow: 0 25px 50px rgba(0,0,0,0.15); }
    
    /* Background Image Fixe */
    .card-bg { 
        position: absolute; inset: 0; background-size: cover; background-position: center; 
        transition: transform 0.6s ease; 
    }
    .card:hover .card-bg { transform: scale(1.1); }
    
    .card-content { 
        position: absolute; bottom: 0; width: 100%; padding: 40px 20px; 
        background: linear-gradient(to top, rgba(0,0,0,0.9) 10%, transparent); color: white; 
        text-align: center;
    }
    .card-content h3 { margin: 0; font-size: 1.8rem; font-family: 'Playfair Display', serif; color: #fff; }
    .sub-text { color: var(--accent-color); text-transform: uppercase; font-size: 0.8rem; font-weight: bold; margin-top: 10px; letter-spacing: 2px; }

    /* Animations */
    .fade-in { animation: fadeInUp 1s ease-out forwards; opacity: 0; transform: translateY(20px); }
    .delay-1 { animation-delay: 0.2s; } .delay-2 { animation-delay: 0.4s; }
    @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }
  `]
})
export class HomeComponent {}

------------------------------
üìÑ Fichier : src/app/components/footer/footer.component.ts
------------------------------
import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
@Component({ selector: 'app-footer', standalone: true, imports: [CommonModule], template: `<footer><div class="container"><p>L'Italiano Coffee &copy; 2025.</p></div></footer>`, styles: [`footer { background: #1a1a1a; color: #fff; padding: 40px 0; text-align: center; }`] }) export class FooterComponent {}

------------------------------
üìÑ Fichier : src/app/components/header/header.component.ts
------------------------------
import { Component, HostListener, inject, signal, computed } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterLink, RouterLinkActive, Router } from '@angular/router';
import { AuthService } from '../../services/auth.service';
import { CartService } from '../../services/cart.service';

@Component({
  selector: 'app-header',
  standalone: true,
  imports: [CommonModule, RouterLink, RouterLinkActive],
  template: `
    <header [class.scrolled]="isScrolled()">
      <div class="container">
        
        <!-- 1. LOGO -->
        <a routerLink="/" class="logo">
            <span class="brand">L'ITALIANO</span>
            <span class="dot">.</span>
        </a>

        <!-- 2. NAVIGATION CENTRALE (Desktop) -->
        <nav class="desktop-nav">
          <ul>
            <li><a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact:true}">Accueil</a></li>
            <li><a routerLink="/products" routerLinkActive="active">Nos Caf√©s</a></li>
            <li><a routerLink="/contact" routerLinkActive="active">Contact</a></li>
            @if (auth.isAuthenticated()) {
                 <li><a routerLink="/my-orders" routerLinkActive="active">Mes Commandes</a></li>
            }
          </ul>
        </nav>

        <!-- 3. ACTIONS DROITE -->
        <div class="actions">
            
            <!-- Admin Badge -->
            @if (auth.isAdmin()) {
                <a routerLink="/admin" class="action-item admin-btn" title="Administration">
                    <span class="icon">‚öôÔ∏è</span>
                </a>
            }

            <!-- Login / User Profile -->
            @if (auth.isAuthenticated()) {
                <div class="user-dropdown">
                    <span class="user-name">Bonjour, {{ getUserName() }}</span>
                    <button (click)="logout()" class="logout-link">Se d√©connecter</button>
                </div>
            } @else {
                <a routerLink="/login" class="login-link">Connexion</a>
            }

            <!-- PANIER ORANGE (Star du show) -->
            <a routerLink="/cart" class="cart-btn" [class.shake]="cart.itemCount() > 0">
                <div class="cart-icon-wrapper">
                    <!-- Ic√¥ne Sac Shopping SVG -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"></path>
                        <line x1="3" y1="6" x2="21" y2="6"></line>
                        <path d="M16 10a4 4 0 0 1-8 0"></path>
                    </svg>
                    
                    <!-- Badge Nombre -->
                    @if (cart.itemCount() > 0) {
                        <span class="cart-badge">{{ cart.itemCount() }}</span>
                    }
                </div>
                <span class="cart-label">Panier</span>
            </a>

            <!-- Mobile Toggle -->
            <button class="mobile-toggle" (click)="toggleMenu()">
                <span></span><span></span><span></span>
            </button>
        </div>
      </div>

      <!-- MENU MOBILE (Off-Canvas) -->
      <div class="mobile-menu" [class.open]="isMenuOpen()">
        <div class="mobile-header">
            <span class="brand">MENU</span>
            <button (click)="closeMenu()" class="close-btn">‚úï</button>
        </div>
        <ul class="mobile-links">
            <li><a routerLink="/" (click)="closeMenu()">Accueil</a></li>
            <li><a routerLink="/products" (click)="closeMenu()">Nos Caf√©s</a></li>
            <li><a routerLink="/cart" (click)="closeMenu()" class="mobile-cart-link">Mon Panier ({{ cart.itemCount() }})</a></li>
            <li><a routerLink="/contact" (click)="closeMenu()">Contact</a></li>
            @if (auth.isAuthenticated()) {
                <li><a routerLink="/my-orders" (click)="closeMenu()">Mes Commandes</a></li>
                <li><button (click)="logout(); closeMenu()" class="mobile-logout">D√©connexion</button></li>
            } @else {
                <li><a routerLink="/login" (click)="closeMenu()">Connexion</a></li>
            }
        </ul>
      </div>
      <div class="overlay" *ngIf="isMenuOpen()" (click)="closeMenu()"></div>
    </header>
  `,
  styles: [`
    /* --- HEADER CONTAINER --- */
    header {
        position: fixed; top: 0; left: 0; width: 100%; z-index: 1000;
        height: 80px; background: rgba(255, 255, 255, 0.95);
        backdrop-filter: blur(10px);
        border-bottom: 1px solid rgba(0,0,0,0.05);
        transition: all 0.3s ease;
    }
    header.scrolled { height: 70px; box-shadow: 0 4px 20px rgba(0,0,0,0.05); }

    .container {
        max-width: 1400px; margin: 0 auto; padding: 0 30px; height: 100%;
        display: flex; justify-content: space-between; align-items: center;
    }

    /* --- LOGO --- */
    .logo { text-decoration: none; color: var(--secondary-color); display: flex; align-items: baseline; }
    .brand { font-family: 'Playfair Display', serif; font-weight: 900; font-size: 1.5rem; letter-spacing: 1px; }
    .dot { color: var(--cart-orange); font-size: 2rem; line-height: 0; margin-left: 2px; }

    /* --- NAV DESKTOP --- */
    .desktop-nav ul { display: flex; gap: 40px; list-style: none; margin: 0; padding: 0; }
    .desktop-nav a {
        text-decoration: none; color: var(--secondary-color); font-weight: 600; font-size: 0.9rem;
        text-transform: uppercase; letter-spacing: 1px; position: relative; padding: 5px 0;
    }
    .desktop-nav a::after {
        content: ''; position: absolute; bottom: 0; left: 0; width: 0; height: 2px;
        background: var(--cart-orange); transition: width 0.3s;
    }
    .desktop-nav a:hover::after, .desktop-nav a.active::after { width: 100%; }

    /* --- ACTIONS DROITE --- */
    .actions { display: flex; align-items: center; gap: 25px; }

    /* Login Link */
    .login-link { color: var(--secondary-color); font-weight: 600; font-size: 0.9rem; transition: color 0.3s; }
    .login-link:hover { color: var(--cart-orange); }

    /* User Info */
    .user-dropdown { display: flex; flex-direction: column; align-items: flex-end; line-height: 1.2; }
    .user-name { font-size: 0.85rem; font-weight: bold; color: var(--secondary-color); }
    .logout-link { background: none; border: none; color: #999; font-size: 0.75rem; cursor: pointer; padding: 0; }
    .logout-link:hover { color: var(--error-color); text-decoration: underline; }

    /* --- PANIER ORANGE (STAR) --- */
    .cart-btn {
        display: flex; align-items: center; gap: 10px;
        background: var(--cart-orange); color: white;
        padding: 8px 20px; border-radius: 30px;
        text-decoration: none; transition: transform 0.2s, box-shadow 0.2s;
        box-shadow: 0 4px 10px rgba(255, 159, 67, 0.3);
    }
    .cart-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 15px rgba(255, 159, 67, 0.5); }
    
    .cart-icon-wrapper { position: relative; display: flex; align-items: center; }
    .cart-icon-wrapper svg { width: 20px; height: 20px; }
    
    .cart-badge {
        position: absolute; top: -8px; right: -8px;
        background: white; color: var(--cart-orange);
        font-size: 0.75rem; font-weight: 800;
        width: 18px; height: 18px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .cart-label { font-weight: 700; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.5px; }

    .admin-btn { font-size: 1.2rem; margin-right: 10px; transition: transform 0.2s; }
    .admin-btn:hover { transform: rotate(45deg); }

    /* --- MOBILE --- */
    .mobile-toggle { display: none; flex-direction: column; gap: 5px; background: none; border: none; cursor: pointer; }
    .mobile-toggle span { width: 25px; height: 3px; background: var(--secondary-color); border-radius: 2px; }
    
    .mobile-menu {
        position: fixed; top: 0; right: -350px; width: 280px; height: 100vh;
        background: white; z-index: 2000; padding: 30px;
        box-shadow: -5px 0 20px rgba(0,0,0,0.1); transition: right 0.3s ease;
    }
    .mobile-menu.open { right: 0; }
    
    .mobile-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 40px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
    .close-btn { background: none; border: none; font-size: 1.5rem; cursor: pointer; color: #999; }
    
    .mobile-links { list-style: none; padding: 0; }
    .mobile-links li { margin-bottom: 20px; }
    .mobile-links a { font-size: 1.1rem; font-weight: 600; color: var(--secondary-color); display: block; }
    .mobile-cart-link { color: var(--cart-orange) !important; font-weight: 800; }
    .mobile-logout { background: none; border: none; color: var(--error-color); font-size: 1rem; font-weight: bold; padding: 0; }
    
    .overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 1500; backdrop-filter: blur(2px); }

    @media (max-width: 900px) {
        .desktop-nav, .user-name, .logout-link { display: none; }
        .mobile-toggle { display: flex; }
        .cart-label { display: none; } /* Sur mobile/tablette, on garde juste l'icone orange */
        .cart-btn { padding: 10px; border-radius: 50%; } /* Rond sur mobile */
    }
  `]
})
export class HeaderComponent {
  scrollY = signal(0);
  isMenuOpen = signal(false);
  isScrolled = computed(() => this.scrollY() > 20);
  
  auth = inject(AuthService);
  cart = inject(CartService);
  private router = inject(Router);

  @HostListener('window:scroll', []) onScroll() { this.scrollY.set(window.scrollY); }
  
  toggleMenu() { this.isMenuOpen.update(v => !v); }
  closeMenu() { this.isMenuOpen.set(false); }

  async logout() {
    await this.auth.signOut();
    this.router.navigate(['/']);
  }

  getUserName() {
    const user = this.auth.currentUser();
    if (!user) return '';
    return user.displayName || user.email?.split('@')[0];
  }
}

------------------------------
üìÑ Fichier : src/app/app.config.ts
------------------------------
import { ApplicationConfig, LOCALE_ID } from '@angular/core';
import { provideRouter } from '@angular/router';
import { routes } from './app.routes';
import { registerLocaleData } from '@angular/common';
import localeFr from '@angular/common/locales/fr';

registerLocaleData(localeFr);

export const appConfig: ApplicationConfig = {
  providers: [
    provideRouter(routes),
    { provide: LOCALE_ID, useValue: 'fr' }
  ]
};

------------------------------
üìÑ Fichier : src/app/app.html
------------------------------
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content below * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced.  * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * Delete the template below * * * * * * * * * -->
<!-- * * * * * * * to get started with your project! * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->

<style>
  :host {
    --bright-blue: oklch(51.01% 0.274 263.83);
    --electric-violet: oklch(53.18% 0.28 296.97);
    --french-violet: oklch(47.66% 0.246 305.88);
    --vivid-pink: oklch(69.02% 0.277 332.77);
    --hot-red: oklch(61.42% 0.238 15.34);
    --orange-red: oklch(63.32% 0.24 31.68);

    --gray-900: oklch(19.37% 0.006 300.98);
    --gray-700: oklch(36.98% 0.014 302.71);
    --gray-400: oklch(70.9% 0.015 304.04);

    --red-to-pink-to-purple-vertical-gradient: linear-gradient(
      180deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --red-to-pink-to-purple-horizontal-gradient: linear-gradient(
      90deg,
      var(--orange-red) 0%,
      var(--vivid-pink) 50%,
      var(--electric-violet) 100%
    );

    --pill-accent: var(--bright-blue);

    font-family: "Inter", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1 {
    font-size: 3.125rem;
    color: var(--gray-900);
    font-weight: 500;
    line-height: 100%;
    letter-spacing: -0.125rem;
    margin: 0;
    font-family: "Inter Tight", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
      Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji",
      "Segoe UI Symbol";
  }

  p {
    margin: 0;
    color: var(--gray-700);
  }

  main {
    width: 100%;
    min-height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 1rem;
    box-sizing: inherit;
    position: relative;
  }

  .angular-logo {
    max-width: 9.2rem;
  }

  .content {
    display: flex;
    justify-content: space-around;
    width: 100%;
    max-width: 700px;
    margin-bottom: 3rem;
  }

  .content h1 {
    margin-top: 1.75rem;
  }

  .content p {
    margin-top: 1.5rem;
  }

  .divider {
    width: 1px;
    background: var(--red-to-pink-to-purple-vertical-gradient);
    margin-inline: 0.5rem;
  }

  .pill-group {
    display: flex;
    flex-direction: column;
    align-items: start;
    flex-wrap: wrap;
    gap: 1.25rem;
  }

  .pill {
    display: flex;
    align-items: center;
    --pill-accent: var(--bright-blue);
    background: color-mix(in srgb, var(--pill-accent) 5%, transparent);
    color: var(--pill-accent);
    padding-inline: 0.75rem;
    padding-block: 0.375rem;
    border-radius: 2.75rem;
    border: 0;
    transition: background 0.3s ease;
    font-family: var(--inter-font);
    font-size: 0.875rem;
    font-style: normal;
    font-weight: 500;
    line-height: 1.4rem;
    letter-spacing: -0.00875rem;
    text-decoration: none;
    white-space: nowrap;
  }

  .pill:hover {
    background: color-mix(in srgb, var(--pill-accent) 15%, transparent);
  }

  .pill-group .pill:nth-child(6n + 1) {
    --pill-accent: var(--bright-blue);
  }
  .pill-group .pill:nth-child(6n + 2) {
    --pill-accent: var(--electric-violet);
  }
  .pill-group .pill:nth-child(6n + 3) {
    --pill-accent: var(--french-violet);
  }

  .pill-group .pill:nth-child(6n + 4),
  .pill-group .pill:nth-child(6n + 5),
  .pill-group .pill:nth-child(6n + 6) {
    --pill-accent: var(--hot-red);
  }

  .pill-group svg {
    margin-inline-start: 0.25rem;
  }

  .social-links {
    display: flex;
    align-items: center;
    gap: 0.73rem;
    margin-top: 1.5rem;
  }

  .social-links path {
    transition: fill 0.3s ease;
    fill: var(--gray-400);
  }

  .social-links a:hover svg path {
    fill: var(--gray-900);
  }

  @media screen and (max-width: 650px) {
    .content {
      flex-direction: column;
      width: max-content;
    }

    .divider {
      height: 1px;
      width: 100%;
      background: var(--red-to-pink-to-purple-horizontal-gradient);
      margin-block: 1.5rem;
    }
  }
</style>


<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * The content above * * * * * * * * * * * * -->
<!-- * * * * * * * * * * is only a placeholder * * * * * * * * * * * -->
<!-- * * * * * * * * * * and can be replaced.  * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->
<!-- * * * * * * * * * * End of Placeholder  * * * * * * * * * * * * -->
<!-- * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * -->


<router-outlet />

------------------------------
üìÑ Fichier : src/app/pages/contact/contact.component.ts
------------------------------
import { Component } from '@angular/core';
@Component({ selector: 'app-contact', standalone:true, template:`<div class="page-container"><h1>Contact</h1><p>Email: contact@litalianocaffe.tn</p></div>`}) export class ContactComponent {}

------------------------------
üìÑ Fichier : src/app/pages/products/product-detail.component.ts
------------------------------
import { Component, OnInit, signal, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ActivatedRoute } from '@angular/router';
import { initializeApp } from "firebase/app";
import { getFirestore, doc, getDoc, DocumentData } from "firebase/firestore";
import { environment } from '../../../environments/environment';
import { CartService } from '../../services/cart.service';
const db = getFirestore(initializeApp(environment.firebaseConfig));
@Component({ selector: 'app-detail', standalone: true, imports:[CommonModule], template: `<div class="page-container" *ngIf="p() as product"><div style="display:flex;gap:40px"><img [src]="product.imageUrl" style="width:500px;border-radius:10px"><div style="flex:1"><h1>{{product.name}}</h1><h2>{{product.price}} DT</h2><p [innerHTML]="product.description"></p><button (click)="cart.addItem(product)" class="btn-primary">Ajouter au panier</button></div></div></div>` })
export class ProductDetailComponent implements OnInit {
  p = signal<any>(null); route = inject(ActivatedRoute); cart = inject(CartService);
  ngOnInit() { this.route.paramMap.subscribe(async m => { const s = await getDoc(doc(db,"products",m.get('id')!)); if(s.exists()) this.p.set({...s.data(), id:s.id}); }) }
}

------------------------------
üìÑ Fichier : src/app/pages/products/products.component.ts
------------------------------
import { Component, OnInit, signal, computed, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { RouterLink } from '@angular/router';
import { FormsModule } from '@angular/forms';
import { initializeApp } from "firebase/app";
import { getFirestore, collection, onSnapshot, DocumentData } from "firebase/firestore";
import { environment } from '../../../environments/environment';
import { CartService } from '../../services/cart.service';
interface Product extends DocumentData { id: string; name: string; price: number; category: string; imageUrl: string; stock: number; displayCategory?: string; }
const app = initializeApp(environment.firebaseConfig);
const db = getFirestore(app);
@Component({
  selector: 'app-products', standalone: true, imports: [CommonModule, RouterLink, FormsModule],
  template: `
    <div class="page-container">
      <h1>Nos Produits</h1>
      <div class="main-layout">
        <aside class="sidebar">
            <input [(ngModel)]="searchTerm" placeholder="Rechercher..." class="input-modern" style="margin-bottom:20px">
            <div class="categories">
                <button (click)="selectCategory('')" [class.active]="!selectedCategory()">Tout voir</button>
                <button *ngFor="let c of categories()" (click)="selectCategory(c)" [class.active]="selectedCategory()===c">{{c}}</button>
            </div>
        </aside>
        <main class="grid">
            <div *ngFor="let p of filteredProducts()" class="card">
                <div class="card-img" [style.background-image]="'url('+p.imageUrl+')'" [routerLink]="['/product', p.id]"><span class="badge">{{p.displayCategory}}</span></div>
                <div class="card-body">
                    <h3>{{p.name}}</h3>
                    <div style="display:flex;justify-content:space-between;align-items:center">
                        <span style="font-weight:bold;font-size:1.2rem">{{p.price}} DT</span>
                        <button (click)="addToCart(p)" class="btn-primary" style="padding:5px 15px">+</button>
                    </div>
                </div>
            </div>
        </main>
      </div>
    </div>
  `,
  styles: [`
    .main-layout { display: flex; gap: 30px; } .sidebar { width: 250px; flex-shrink: 0; }
    .categories button { display: block; width: 100%; text-align: left; padding: 10px; background: white; border: 1px solid #eee; margin-bottom: 5px; border-radius: 5px; cursor: pointer; }
    .categories button.active { background: var(--primary-color); color: white; border-color: var(--primary-color); }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; flex-grow: 1; }
    .card { background: white; border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.05); }
    .card-img { height: 200px; background-size: cover; position: relative; cursor: pointer; }
    .badge { position: absolute; top: 10px; left: 10px; background: rgba(255,255,255,0.9); color: var(--primary-color); padding: 5px 10px; border-radius: 15px; font-size: 0.8rem; font-weight: bold; }
    .card-body { padding: 15px; } .card-body h3 { margin: 0 0 10px 0; font-size: 1.1rem; }
    @media(max-width:800px){ .main-layout{flex-direction:column} .sidebar{width:100%} }
  `]
})
export class ProductsComponent implements OnInit {
  products = signal<Product[]>([]); searchTerm = signal(''); selectedCategory = signal<string|null>(null); cartService = inject(CartService);
  categories = computed(() => [...new Set(this.products().map(p => p.displayCategory).filter((c): c is string => !!c))].sort());
  filteredProducts = computed(() => {
    const t = this.searchTerm().toLowerCase(); const c = this.selectedCategory();
    return this.products().filter(p => p.name.toLowerCase().includes(t) && (!c || p.displayCategory === c));
  });
  ngOnInit() { onSnapshot(collection(db,"products"), s => this.products.set(s.docs.map(d => { const dt=d.data() as Product; return {...dt, id:d.id, displayCategory: this.clean(dt.category)}; }))); }
  clean(raw:string){ if(!raw)return 'Autres'; const p=raw.split(','); let b=p.find(x=>!x.includes('Non class√©')&&x.includes('>'))||p[0]; if(b.trim()==='Non class√©')return 'Autres'; const pts=b.split('>'); let l=pts[pts.length-1].trim(); if(l==='Non class√©'&&pts.length>1)l=pts[pts.length-2].trim(); return l; }
  selectCategory(c:string|null|undefined){ this.selectedCategory.set(c||null); }
  addToCart(p:Product){ this.cartService.addItem(p); }
}

------------------------------
üìÑ Fichier : src/app/pages/signup/signup.component.ts
------------------------------
import { Component, signal, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { Router, RouterLink } from '@angular/router';
import { AuthService } from '../../services/auth.service';
@Component({ selector: 'app-signup', standalone: true, imports: [CommonModule, FormsModule, RouterLink], template: `<div class="auth-bg"><div class="auth-card"><h1>Inscription</h1><input [(ngModel)]="email" name="email" class="input-modern" placeholder="Email"><br><br><input type="password" [(ngModel)]="pass" name="pass" class="input-modern" placeholder="Mot de passe"><br><br><button (click)="reg()" class="btn-submit">S'inscrire</button></div></div>` })
export class SignupComponent { email=''; pass=''; auth=inject(AuthService); router=inject(Router); async reg(){ try{ await this.auth.signUp(this.email,this.pass); this.router.navigate(['/']); }catch(e){} } }

------------------------------
üìÑ Fichier : src/app/pages/admin/admin.component.ts
------------------------------
import { Component, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { Router, RouterLink } from '@angular/router';
import { AuthService } from '../../services/auth.service';
@Component({
  selector: 'app-admin', standalone: true, imports: [CommonModule, RouterLink],
  template: `
    <div class="page-container">
      <h1>Admin Dashboard</h1>
      <div *ngIf="auth.isAdmin()" style="display:grid; grid-template-columns:1fr 1fr; gap:30px;">
        <div style="background:white; padding:30px; border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.1); cursor:pointer;" routerLink="/admin/products"><h2>üì¶ Produits</h2></div>
        <div style="background:white; padding:30px; border-radius:10px; box-shadow:0 5px 15px rgba(0,0,0,0.1); cursor:pointer;" routerLink="/admin/orders"><h2>üìÑ Commandes</h2></div>
      </div>
      <div *ngIf="!auth.isAdmin()" style="text-align:center;"><p>Acc√®s r√©serv√©.</p><button (click)="router.navigate(['/'])">Retour</button></div>
    </div>
  `
})
export class AdminComponent { auth = inject(AuthService); router = inject(Router); }

------------------------------
üìÑ Fichier : src/app/pages/admin/crud-products/crud-products.component.ts
------------------------------
import { Component, signal, computed, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { initializeApp } from "firebase/app";
import { getFirestore, collection, onSnapshot, addDoc, updateDoc, deleteDoc, doc } from "firebase/firestore";
import { getStorage, ref, uploadBytes, getDownloadURL } from "firebase/storage";
import { environment } from '../../../../environments/environment';
const app = initializeApp(environment.firebaseConfig); const db = getFirestore(app); const storage = getStorage(app);

@Component({
  selector: 'app-crud', standalone:true, imports:[CommonModule, FormsModule],
  template: `
    <div class="page-container">
      <h1>Gestion Catalogue</h1>
      <div style="display:flex;gap:10px;margin-bottom:20px">
        <input [(ngModel)]="st" placeholder="Rechercher..." class="input-modern" style="flex:2">
        <select [(ngModel)]="cat" class="input-modern" style="flex:1"><option value="">Toutes Cat.</option><option *ngFor="let c of cats()" [value]="c">{{c}}</option></select>
        <button (click)="open()" class="btn-primary">+ Nouveau</button>
      </div>
      
      <!-- Modal -->
      <div *ngIf="show()" style="position:fixed;inset:0;background:rgba(0,0,0,0.5);display:flex;justify-content:center;align-items:center;z-index:2000">
        <div style="background:white;padding:30px;border-radius:10px;width:400px">
            <h2>{{isEdit?'Modifier':'Ajouter'}}</h2>
            <input [(ngModel)]="f.name" placeholder="Nom" class="input-modern" style="margin-bottom:10px">
            <input [(ngModel)]="f.price" type="number" placeholder="Prix" class="input-modern" style="margin-bottom:10px">
            <input [(ngModel)]="f.stock" type="number" placeholder="Stock" class="input-modern" style="margin-bottom:10px">
            <input [(ngModel)]="f.category" placeholder="Cat√©gorie" class="input-modern" style="margin-bottom:10px">
            <input type="file" (change)="up($event)" style="margin-bottom:10px">
            <img *ngIf="f.imageUrl" [src]="f.imageUrl" width="50">
            <div style="text-align:right"><button (click)="save()" class="btn-primary">Sauver</button> <button (click)="show.set(false)">Annuler</button></div>
        </div>
      </div>

      <div style="display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px">
        <div *ngFor="let p of filtered()" style="background:white;padding:15px;border-radius:10px;box-shadow:0 2px 5px #ccc">
            <img [src]="p.imageUrl" style="width:100%;height:150px;object-fit:cover;border-radius:5px">
            <h3 style="margin:10px 0">{{p.name}}</h3>
            <p>{{p.category}} | Stock: {{p.stock}}</p>
            <p style="font-weight:bold">{{p.price}} DT</p>
            <button (click)="edit(p)">‚úé</button> <button (click)="del(p.id)" style="color:red">üóë</button>
        </div>
      </div>
    </div>
  `
})
export class CrudProductsComponent implements OnInit {
  products=signal<any[]>([]); show=signal(false); f:any={}; isEdit=false; st=signal(''); cat=signal('');
  cats = computed(() => [...new Set(this.products().map(p => p.category).filter(Boolean))].sort());
  filtered = computed(() => this.products().filter(p => p.name.toLowerCase().includes(this.st().toLowerCase()) && (!this.cat() || p.category === this.cat())));
  ngOnInit(){ onSnapshot(collection(db,"products"),s=>this.products.set(s.docs.map(d=>({...d.data(),id:d.id})))); }
  open(){ this.f={id:'',name:'',price:0,stock:0,category:'',imageUrl:''}; this.isEdit=false; this.show.set(true); }
  edit(p:any){ this.f={...p}; this.isEdit=true; this.show.set(true); }
  async save(){ if(this.isEdit) await updateDoc(doc(db,"products",this.f.id),this.f); else await addDoc(collection(db,"products"),this.f); this.show.set(false); }
  async del(id:string){ if(confirm('Sur ?')) await deleteDoc(doc(db,"products",id)); }
  async up(e:any){ const file=e.target.files[0]; if(!file)return; const r=ref(storage, 'p/'+Date.now()); await uploadBytes(r,file); this.f.imageUrl=await getDownloadURL(r); }
}

------------------------------
üìÑ Fichier : src/app/pages/admin/orders/orders.component.ts
------------------------------
import { Component, OnInit, signal } from '@angular/core';
import { CommonModule, DatePipe, CurrencyPipe } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { initializeApp } from "firebase/app";
import { getFirestore, collection, onSnapshot, query, orderBy, doc, updateDoc } from "firebase/firestore";
import { environment } from '../../../../environments/environment';

const app = initializeApp(environment.firebaseConfig);
const db = getFirestore(app);

@Component({
  selector: 'app-orders',
  standalone: true,
  imports: [CommonModule, FormsModule, DatePipe, CurrencyPipe],
  template: `
    <div class="page-container">
      <div class="header-section">
        <h1>üì¶ Gestion des Commandes</h1>
        <p class="subtitle">Suivi en temps r√©el des achats clients</p>
      </div>

      @if (orders().length === 0) {
        <div class="empty-state">
            <p>Aucune commande pour le moment.</p>
        </div>
      } @else {
        <div class="orders-grid">
          @for (o of orders(); track o.id) {
            <div class="order-card" [class]="'status-border-' + getStatusClass(o.status)">
                <!-- En-t√™te de la carte -->
                <div class="card-header">
                    <div class="order-id">
                        <span class="hash">#</span>{{ o.id.slice(0, 8) }}
                    </div>
                    <div class="order-date">
                        {{ o.date?.toDate() | date:'dd MMM, HH:mm' }}
                    </div>
                </div>

                <!-- Infos Client -->
                <div class="customer-section">
                    <div class="info-row">
                        <span class="icon">üë§</span> 
                        <span class="name">{{ o.customer.name }}</span>
                    </div>
                    <div class="info-row">
                        <span class="icon">üìû</span> 
                        <a [href]="'tel:' + o.customer.phone" class="phone">{{ o.customer.phone }}</a>
                    </div>
                    <div class="info-row address-row">
                        <span class="icon">üìç</span> 
                        <span class="address">{{ o.customer.address }}</span>
                    </div>
                </div>

                <!-- Commentaire Client (AJOUT√â ICI) -->
                @if (o.comment) {
                    <div class="comment-section">
                        <span class="comment-icon">üí¨</span>
                        <div class="comment-content">
                            <span class="comment-label">Note du client :</span>
                            <p>‚Äú{{ o.comment }}‚Äù</p>
                        </div>
                    </div>
                }

                <!-- Liste des Articles -->
                <div class="items-section">
                    <h4>Articles ({{ o.items.length }})</h4>
                    <ul>
                        <li *ngFor="let item of o.items">
                            <span class="qty">{{ item.quantity }}x</span>
                            <span class="prod-name">{{ item.name }}</span>
                        </li>
                    </ul>
                </div>

                <!-- Footer : Total & Action -->
                <div class="card-footer">
                    <div class="total-price">
                        <span class="label">Total</span>
                        <span class="amount">{{ o.total | number:'1.2-2' }} DT</span>
                    </div>
                    
                    <div class="status-control">
                        <select 
                            [ngModel]="o.status" 
                            (ngModelChange)="updateStatus(o.id, $event)"
                            [class]="'select-' + getStatusClass(o.status)"
                        >
                            <option value="En cours">‚è≥ En cours</option>
                            <option value="Livr√©e">‚úÖ Livr√©e</option>
                            <option value="Annul√©e">‚ùå Annul√©e</option>
                        </select>
                    </div>
                </div>
            </div>
          }
        </div>
      }
    </div>
  `,
  styles: [`
    /* Layout */
    .page-container { max-width: 1200px; margin: 0 auto; padding: 120px 20px; }
    .header-section { margin-bottom: 40px; text-align: center; }
    h1 { color: var(--primary-color); font-size: 2.5rem; margin-bottom: 10px; }
    .subtitle { color: #666; font-size: 1.1rem; }

    /* Grid */
    .orders-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
        gap: 30px;
    }

    /* Card Design */
    .order-card {
        background: white;
        border-radius: 12px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        border: 1px solid #f0f0f0;
        overflow: hidden;
        display: flex;
        flex-direction: column;
        transition: transform 0.3s, box-shadow 0.3s;
    }
    .order-card:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(0,0,0,0.1); }

    /* Status Borders */
    .status-border-warning { border-top: 5px solid #f1c40f; } /* En cours */
    .status-border-success { border-top: 5px solid #2ecc71; } /* Livr√©e */
    .status-border-danger { border-top: 5px solid #e74c3c; } /* Annul√©e */

    /* Header Card */
    .card-header {
        padding: 15px 20px;
        background: #fcfcfc;
        border-bottom: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .order-id { font-weight: 800; color: var(--secondary-color); font-family: monospace; font-size: 1.1rem; }
    .hash { color: #ccc; }
    .order-date { font-size: 0.85rem; color: #888; }

    /* Customer Section */
    .customer-section { padding: 20px; border-bottom: 1px solid #f5f5f5; }
    .info-row { display: flex; align-items: center; gap: 10px; margin-bottom: 8px; color: #444; }
    .info-row:last-child { margin-bottom: 0; }
    .icon { font-size: 1.1rem; width: 20px; text-align: center; }
    .name { font-weight: bold; color: var(--primary-color); }
    .phone { color: var(--accent-color); text-decoration: none; font-weight: 500; }
    .phone:hover { text-decoration: underline; }
    .address-row { align-items: flex-start; }
    .address { font-size: 0.9rem; line-height: 1.4; color: #666; }

    /* --- STYLE COMMENTAIRE --- */
    .comment-section {
        background-color: #fff8e1; /* Fond jaune p√¢le type Post-it */
        padding: 15px 20px;
        border-top: 1px dashed #eee;
        border-bottom: 1px dashed #eee;
        display: flex;
        gap: 10px;
        align-items: flex-start;
    }
    .comment-icon { font-size: 1.2rem; }
    .comment-content { flex: 1; }
    .comment-label { display: block; font-size: 0.75rem; text-transform: uppercase; color: #8d6e63; font-weight: bold; margin-bottom: 3px; }
    .comment-section p { margin: 0; font-style: italic; color: #5d4037; font-size: 0.95rem; line-height: 1.4; }

    /* Items Section */
    .items-section { padding: 15px 20px; flex-grow: 1; background: #fff; }
    .items-section h4 { margin: 0 0 10px; font-size: 0.8rem; text-transform: uppercase; color: #aaa; letter-spacing: 1px; }
    .items-section ul { padding: 0; margin: 0; list-style: none; }
    .items-section li { display: flex; gap: 10px; margin-bottom: 6px; font-size: 0.95rem; }
    .qty { font-weight: bold; color: var(--secondary-color); background: #eee; padding: 2px 6px; border-radius: 4px; font-size: 0.8rem; }
    .prod-name { color: #333; }

    /* Footer Card */
    .card-footer {
        padding: 20px;
        background: #fafafa;
        border-top: 1px solid #eee;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    .total-price { display: flex; flex-direction: column; }
    .total-price .label { font-size: 0.8rem; color: #888; text-transform: uppercase; }
    .total-price .amount { font-size: 1.5rem; font-weight: 800; color: var(--secondary-color); }

    /* Select Styling */
    select {
        padding: 8px 15px;
        border-radius: 20px;
        border: 1px solid #ddd;
        font-weight: bold;
        cursor: pointer;
        outline: none;
        transition: all 0.3s;
        font-size: 0.9rem;
    }
    .select-warning { background: #fff8e1; color: #f39c12; border-color: #f39c12; }
    .select-success { background: #e8f8f5; color: #27ae60; border-color: #27ae60; }
    .select-danger { background: #fdedec; color: #c0392b; border-color: #c0392b; }

    .empty-state { text-align: center; color: #999; font-size: 1.2rem; margin-top: 50px; }
  `]
})
export class OrdersComponent implements OnInit {
  orders = signal<any[]>([]);
  
  ngOnInit() {
    onSnapshot(query(collection(db,"orders"), orderBy("createdAt","desc")), s => {
        this.orders.set(s.docs.map(d => {
            const data = d.data();
            const date = data['createdAt'] ? data['createdAt'] : data['date'];
            return { id:d.id, ...data, date };
        }));
    });
  }
  
  updateStatus(id: string, status: string) { 
      updateDoc(doc(db, "orders", id), { status }); 
  }

  getStatusClass(status: string): string {
      if (status === 'Livr√©e') return 'success';
      if (status === 'Annul√©e') return 'danger';
      return 'warning';
  }
}

------------------------------
üìÑ Fichier : src/app/pages/checkout/checkout.component.ts
------------------------------
import { Component, signal, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { Router } from '@angular/router';
import { CartService } from '../../services/cart.service';
import { AuthService } from '../../services/auth.service';

@Component({
  selector: 'app-checkout',
  standalone: true,
  imports: [CommonModule, FormsModule],
  template: `
    <div class="page-container">
      <div class="checkout-wrapper">
        
        <!-- Card de Validation -->
        <div class="checkout-card fade-in">
            <div class="card-header">
                <h1>Finaliser la Commande</h1>
                <p>Compl√©tez vos informations pour la livraison.</p>
            </div>
            
            <div *ngIf="cart.cartItems().length > 0; else empty">
                
                <!-- Section Login (Si non connect√©) -->
                <div *ngIf="!auth.isAuthenticated()" class="login-prompt">
                    <h3>D√©j√† client ? Connectez-vous</h3>
                    <p class="info-text">Connectez-vous pour suivre cette commande dans votre espace.</p>
                    
                    <div class="inline-login">
                        <input type="email" [(ngModel)]="loginEmail" placeholder="Email" class="input-small">
                        <input type="password" [(ngModel)]="loginPass" placeholder="Mot de passe" class="input-small">
                        <button (click)="quickLogin()" class="btn-small">OK</button>
                    </div>
                    <button (click)="quickGoogle()" class="btn-google-small"> G </button>
                    <p class="error-text" *ngIf="loginError()">{{ loginError() }}</p>
                    <div class="divider"><span>OU CONTINUER EN INVIT√â</span></div>
                </div>

                <div class="order-summary">
                    <span class="label">Total √† r√©gler</span>
                    <span class="amount">{{ cart.subTotal() | number:'1.2-2' }} DT</span>
                </div>

                <form (ngSubmit)="submit()">
                    <div class="form-group">
                        <label>Nom complet</label>
                        <input type="text" [(ngModel)]="data.name" name="name" required class="input-modern" placeholder="Votre Nom">
                    </div>
                    <div class="form-group">
                        <label>T√©l√©phone</label>
                        <input type="tel" [(ngModel)]="data.phone" name="phone" required class="input-modern" placeholder="22 333 444">
                    </div>
                    <div class="form-group">
                        <label>Adresse de livraison</label>
                        <textarea [(ngModel)]="data.address" name="addr" required class="input-modern" rows="2" placeholder="Rue, Ville, Code Postal..."></textarea>
                    </div>
                    
                    <!-- Champ Commentaire Ajout√© -->
                    <div class="form-group">
                        <label>Commentaire (Optionnel)</label>
                        <textarea [(ngModel)]="comment" name="comment" class="input-modern" rows="2" placeholder="Instructions sp√©ciales, code porte, etc."></textarea>
                    </div>

                    <button type="submit" class="btn-primary w-100 btn-confirm" [disabled]="loading()">
                        {{ loading() ? 'Traitement...' : 'Confirmer la commande' }}
                    </button>
                </form>
            </div>
            
            <ng-template #empty>
                <div class="empty-state">
                    <p>Votre panier est vide.</p>
                    <button (click)="router.navigate(['/products'])" class="btn-text">Retour au catalogue</button>
                </div>
            </ng-template>
        </div>

      </div>
    </div>
  `,
  styles: [`
    .checkout-wrapper { display: flex; justify-content: center; padding-top: 20px; }
    .checkout-card {
        background: white; padding: 40px; border-radius: 20px;
        box-shadow: 0 15px 40px rgba(0,0,0,0.08); width: 100%; max-width: 600px;
        border-top: 5px solid var(--primary-color);
    }
    .card-header { text-align: center; margin-bottom: 30px; }
    .card-header h1 { font-size: 2.2rem; margin: 0; color: var(--primary-dark); }
    .card-header p { color: #888; margin-top: 5px; }

    /* Login Prompt Styles */
    .login-prompt { background: #fdfbf7; padding: 20px; border-radius: 10px; border: 1px solid #e0d6ce; margin-bottom: 30px; text-align: center; }
    .login-prompt h3 { margin: 0 0 5px 0; color: var(--primary-color); font-size: 1.1rem; }
    .info-text { font-size: 0.85rem; color: #666; margin-bottom: 15px; }
    .inline-login { display: flex; gap: 10px; justify-content: center; margin-bottom: 10px; }
    .input-small { padding: 8px 12px; border: 1px solid #ccc; border-radius: 5px; width: 35%; font-size: 0.9rem; }
    .btn-small { background: var(--secondary-color); color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; font-weight: bold; }
    .btn-google-small { background: white; border: 1px solid #ccc; padding: 5px 12px; border-radius: 5px; cursor: pointer; font-weight: bold; color: #555; }
    .error-text { color: red; font-size: 0.8rem; margin-top: 5px; }
    .divider { margin: 20px 0 10px; border-bottom: 1px solid #ddd; line-height: 0.1em; }
    .divider span { background: #fdfbf7; padding: 0 10px; color: #999; font-size: 0.7rem; letter-spacing: 1px; }

    .order-summary {
        background: #faf8f5; border: 1px solid #e0d6ce; padding: 15px 25px;
        border-radius: 12px; display: flex; justify-content: space-between; align-items: center;
        margin-bottom: 25px;
    }
    .order-summary .label { font-weight: 600; color: var(--secondary-color); }
    .order-summary .amount { font-size: 1.5rem; color: var(--primary-color); font-weight: 800; }

    .form-group { margin-bottom: 20px; }
    .form-group label { display: block; font-weight: 700; margin-bottom: 5px; color: var(--primary-dark); font-size: 0.9rem; }
    
    .input-modern { width: 100%; padding: 12px; border: 1px solid #e0e0e0; border-radius: 8px; transition: 0.3s; box-sizing: border-box; }
    .input-modern:focus { border-color: var(--accent-color); box-shadow: 0 0 0 3px rgba(212,163,115,0.2); outline: none; }

    .w-100 { width: 100%; }
    .btn-confirm { padding: 16px; font-size: 1.1rem; letter-spacing: 1px; margin-top: 10px; }
    .empty-state { text-align: center; color: #999; padding: 40px; }
    .btn-text { background: none; border: none; color: var(--primary-color); text-decoration: underline; cursor: pointer; font-weight: bold; }
    
    .fade-in { animation: fadeIn 0.8s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    
    @media (max-width: 600px) {
        .inline-login { flex-direction: column; }
        .input-small { width: 100%; }
    }
  `]
})
export class CheckoutComponent {
  cart = inject(CartService);
  auth = inject(AuthService);
  router = inject(Router);
  
  data = { name: '', phone: '', address: '' };
  comment = '';
  loading = signal(false);
  
  // Login rapide states
  loginEmail = '';
  loginPass = '';
  loginError = signal('');

  async quickLogin() {
      try {
          await this.auth.signIn(this.loginEmail, this.loginPass);
          this.loginError.set('');
      } catch (e) {
          this.loginError.set("Erreur de connexion");
      }
  }
  
  async quickGoogle() {
      try { await this.auth.signInWithGoogle(); } catch(e) {}
  }
  
  async submit() {
    if(!this.data.name || !this.data.phone || !this.data.address) return;
    this.loading.set(true);
    
    // R√©cup√©rer l'ID utilisateur s'il est connect√©, sinon null
    const userId = this.auth.currentUser()?.uid || null;
    
    try {
        await this.cart.checkout(this.data, userId, this.comment);
        alert("Commande re√ßue ! " + (userId ? "Vous pouvez la suivre dans 'Mes Commandes'." : ""));
        this.router.navigate(['/']);
    } catch (e) {
        console.error(e);
        alert("Erreur lors de la commande.");
    } finally {
        this.loading.set(false);
    }
  }
}

------------------------------
üìÑ Fichier : src/app/pages/cart/cart.component.ts
------------------------------
import { Component, inject } from '@angular/core';
import { CommonModule, CurrencyPipe } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { RouterLink } from '@angular/router';
import { CartService } from '../../services/cart.service';

@Component({
  selector: 'app-cart',
  standalone: true,
  imports: [CommonModule, FormsModule, RouterLink, CurrencyPipe],
  template: `
    <div class="page-container">
      <div class="cart-header">
        <h1>Votre Panier</h1>
        <span class="count-pill">{{ cart.itemCount() }} articles</span>
      </div>

      @if (cart.cartItems().length === 0) {
        <div class="empty-state">
            <div class="icon-bag">üõçÔ∏è</div>
            <h2>Votre panier est vide</h2>
            <p>Il semblerait que vous n'ayez pas encore succomb√© √† nos ar√¥mes.</p>
            <a routerLink="/products" class="btn-orange">D√©couvrir nos Caf√©s</a>
        </div>
      } @else {
        <div class="cart-layout">
          <!-- Liste -->
          <div class="cart-items">
            @for (item of cart.cartItems(); track item.id) {
              <div class="cart-item">
                <img [src]="item.imageUrl" [alt]="item.name" class="item-img">
                <div class="item-info">
                    <h3>{{ item.name }}</h3>
                    <p class="unit-price">{{ item.price | currency:'DT':'symbol':'1.2-2':'fr' }}</p>
                </div>
                <div class="item-controls">
                    <div class="qty-box">
                        <button (click)="updateQuantity(item.id, item.quantity - 1)">-</button>
                        <span>{{ item.quantity }}</span>
                        <button (click)="updateQuantity(item.id, item.quantity + 1)">+</button>
                    </div>
                    <button class="btn-remove" (click)="cart.removeItem(item.id)">‚úï</button>
                </div>
                <div class="item-total">
                    {{ (item.price * item.quantity) | currency:'DT':'symbol':'1.2-2':'fr' }}
                </div>
              </div>
            }
          </div>

          <!-- R√©sum√© -->
          <div class="cart-summary">
            <h2>Total Panier</h2>
            <div class="row total-row">
                <span>Total</span>
                <span class="total-price">{{ cart.subTotal() | currency:'DT':'symbol':'1.2-2':'fr' }}</span>
            </div>
            <a routerLink="/checkout" class="btn-orange w-100">Commander</a>
            <div class="secure-badge">
                <span>üîí</span> Paiement s√©curis√©
            </div>
          </div>
        </div>
      }
    </div>
  `,
  styles: [`
    .page-container { max-width: 1100px; margin: 0 auto; padding: 120px 20px; min-height: 80vh; }
    .cart-header { display: flex; align-items: center; gap: 15px; margin-bottom: 40px; }
    h1 { margin: 0; font-size: 2.5rem; }
    .count-pill { background: var(--cart-orange); color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; font-size: 0.9rem; }

    .empty-state { text-align: center; padding: 80px; background: white; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); }
    .icon-bag { font-size: 4rem; margin-bottom: 20px; display: block; filter: grayscale(100%); opacity: 0.5; }
    
    .btn-orange { 
        display: inline-block; background: var(--cart-orange); color: white; 
        padding: 15px 40px; border-radius: 50px; font-weight: 800; 
        text-transform: uppercase; letter-spacing: 1px; text-decoration: none; 
        transition: all 0.3s; box-shadow: 0 5px 15px rgba(255, 159, 67, 0.3);
        border: none; cursor: pointer; text-align: center;
    }
    .btn-orange:hover { transform: translateY(-3px); box-shadow: 0 8px 25px rgba(255, 159, 67, 0.5); }
    .w-100 { width: 100%; box-sizing: border-box; }

    .cart-layout { display: grid; grid-template-columns: 1fr 350px; gap: 40px; }
    
    .cart-items { background: white; border-radius: 15px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.03); }
    .cart-item { display: flex; align-items: center; padding: 20px; border-bottom: 1px solid #eee; gap: 20px; }
    .item-img { width: 80px; height: 80px; border-radius: 10px; object-fit: cover; }
    .item-info { flex: 1; }
    .item-info h3 { margin: 0 0 5px; color: var(--secondary-color); font-size: 1.1rem; }
    .unit-price { color: #999; font-size: 0.9rem; }
    
    .qty-box { display: flex; align-items: center; border: 1px solid #eee; border-radius: 20px; padding: 5px 10px; }
    .qty-box button { background: none; border: none; width: 25px; font-weight: bold; color: var(--secondary-color); }
    .qty-box span { margin: 0 10px; font-weight: bold; }
    
    .btn-remove { background: none; border: none; color: #ccc; font-size: 1.2rem; margin-left: 15px; }
    .btn-remove:hover { color: var(--error-color); }
    
    .item-total { font-weight: 800; color: var(--primary-color); font-size: 1.1rem; width: 100px; text-align: right; }

    .cart-summary { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 40px rgba(0,0,0,0.08); height: fit-content; border-top: 5px solid var(--cart-orange); }
    .total-row { display: flex; justify-content: space-between; align-items: center; margin: 20px 0 30px; padding-top: 20px; border-top: 1px solid #eee; }
    .total-price { font-size: 1.8rem; font-weight: 900; color: var(--secondary-color); }
    
    .secure-badge { text-align: center; margin-top: 20px; font-size: 0.85rem; color: #999; }

    @media (max-width: 900px) {
        .cart-layout { grid-template-columns: 1fr; }
        .cart-item { flex-wrap: wrap; }
        .item-controls { display: flex; align-items: center; width: 100%; justify-content: space-between; margin-top: 10px; }
        .item-total { width: 100%; text-align: left; margin-top: 10px; }
    }
  `]
})
export class CartComponent {
  cart = inject(CartService);
  updateQuantity(id: string, qty: number) { this.cart.updateQuantity(id, qty); }
  onQtyChange(id: string, event: any) { const val = parseInt(event.target.value, 10); this.updateQuantity(id, val); }
}

------------------------------
üìÑ Fichier : src/app/pages/user-orders/user-orders.component.ts
------------------------------
import { Component, OnInit, signal, inject } from '@angular/core';
import { CommonModule, DatePipe, CurrencyPipe } from '@angular/common';
import { initializeApp } from "firebase/app";
import { getFirestore, collection, query, where, onSnapshot, orderBy, Timestamp } from "firebase/firestore";
import { environment } from '../../../environments/environment';
import { AuthService } from '../../services/auth.service';

const app = initializeApp(environment.firebaseConfig);
const db = getFirestore(app);

interface Order {
  id: string;
  date: any;
  status: string;
  total: number;
  items: any[];
}

@Component({
  selector: 'app-user-orders',
  standalone: true,
  imports: [CommonModule, DatePipe, CurrencyPipe],
  template: `
    <div class="page-container">
      <div class="header-section">
        <h1>Mes Commandes</h1>
        <p class="subtitle">Retrouvez l'historique de vos d√©gustations.</p>
      </div>

      @if (loading()) {
        <div class="loading-state">
            <div class="spinner"></div>
            <p>Chargement de vos commandes...</p>
        </div>
      } @else if (orders().length === 0) {
        <div class="empty-state fade-in">
            <span class="icon">‚òï</span>
            <h2>Aucune commande pass√©e</h2>
            <p>Il est temps de d√©couvrir nos s√©lections.</p>
            <a href="/products" class="btn-discover">Voir le catalogue</a>
        </div>
      } @else {
        <div class="orders-grid">
            @for (order of orders(); track order.id) {
                <div class="order-card fade-in-up">
                    <!-- En-t√™te de la carte -->
                    <div class="card-header">
                        <div class="order-meta">
                            <span class="order-date">{{ order.date?.toDate() | date:'dd MMM yyyy' }}</span>
                            <span class="order-ref">Ref: #{{ order.id | slice:0:8 }}</span>
                        </div>
                        <div class="order-status" [class]="getStatusClass(order.status)">
                            <span class="status-dot"></span>
                            {{ order.status }}
                        </div>
                    </div>

                    <!-- Barre de progression (Visuel) -->
                    <div class="progress-track">
                        <div class="step active">Cmd</div>
                        <div class="line" [class.active]="order.status !== 'En attente'"></div>
                        <div class="step" [class.active]="order.status === 'En cours' || order.status === 'Livr√©e'">Pr√©p</div>
                        <div class="line" [class.active]="order.status === 'Livr√©e'"></div>
                        <div class="step" [class.active]="order.status === 'Livr√©e'">Livr√©</div>
                    </div>

                    <!-- Liste des articles -->
                    <div class="order-items">
                        @for (item of order.items; track item.id) {
                            <div class="item-row">
                                <div class="item-thumb">
                                    <img [src]="item.imageUrl || 'assets/slider1.png'" [alt]="item.name">
                                    <span class="item-qty">x{{ item.quantity }}</span>
                                </div>
                                <div class="item-info">
                                    <h4>{{ item.name }}</h4>
                                    <span class="item-price">{{ item.price | number:'1.2-2' }} DT</span>
                                </div>
                            </div>
                        }
                    </div>

                    <!-- Pied de la carte -->
                    <div class="card-footer">
                        <span class="label">Total pay√©</span>
                        <span class="total-amount">{{ order.total | currency:'DT':'symbol':'1.2-2':'fr' }}</span>
                    </div>
                </div>
            }
        </div>
      }
    </div>
  `,
  styles: [`
    .page-container { max-width: 900px; margin: 0 auto; padding: 120px 20px 60px; }
    .header-section { text-align: center; margin-bottom: 50px; }
    h1 { font-family: 'Playfair Display', serif; font-size: 3rem; color: var(--primary-color); margin: 0; }
    .subtitle { color: #888; margin-top: 10px; font-size: 1.1rem; }

    /* Grid Layout */
    .orders-grid { display: grid; gap: 30px; }

    /* Card Design */
    .order-card {
        background: white; border-radius: 15px; overflow: hidden;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        border: 1px solid #f5f5f5;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .order-card:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(111, 78, 55, 0.1); }

    /* Header Card */
    .card-header {
        padding: 20px 25px; background: #fcfbf9; border-bottom: 1px solid #eee;
        display: flex; justify-content: space-between; align-items: center;
    }
    .order-meta { display: flex; flex-direction: column; }
    .order-date { font-weight: 700; color: var(--secondary-color); font-size: 1.1rem; }
    .order-ref { font-size: 0.8rem; color: #aaa; font-family: monospace; letter-spacing: 1px; margin-top: 2px; }

    /* Status Badges */
    .order-status { 
        padding: 6px 15px; border-radius: 30px; font-size: 0.85rem; font-weight: 600; 
        display: flex; align-items: center; gap: 8px; 
    }
    .status-dot { width: 8px; height: 8px; border-radius: 50%; display: block; }
    
    /* Status Colors */
    .status-en-cours { background: #fff8e1; color: #f39c12; }
    .status-en-cours .status-dot { background: #f39c12; }
    .status-livree { background: #e8f8f5; color: #27ae60; }
    .status-livree .status-dot { background: #27ae60; }
    .status-annulee { background: #fdedec; color: #c0392b; }
    .status-annulee .status-dot { background: #c0392b; }

    /* Timeline */
    .progress-track {
        display: flex; align-items: center; justify-content: space-between;
        padding: 20px 40px; position: relative;
    }
    .step { font-size: 0.75rem; color: #ccc; font-weight: bold; text-transform: uppercase; position: relative; z-index: 2; background: white; padding: 0 5px; }
    .step.active { color: var(--primary-color); }
    .line { flex: 1; height: 2px; background: #eee; margin: 0 10px; position: relative; top: 1px; }
    .line.active { background: var(--accent-color); }

    /* Items */
    .order-items { padding: 0 25px 20px; }
    .item-row { display: flex; align-items: center; margin-bottom: 15px; }
    .item-thumb { position: relative; width: 60px; height: 60px; margin-right: 20px; flex-shrink: 0; }
    .item-thumb img { width: 100%; height: 100%; object-fit: cover; border-radius: 8px; border: 1px solid #eee; }
    .item-qty { 
        position: absolute; top: -5px; right: -5px; background: var(--accent-color); 
        color: #2c3e50; font-size: 0.7rem; font-weight: bold; 
        width: 20px; height: 20px; border-radius: 50%; 
        display: flex; align-items: center; justify-content: center;
    }
    .item-info h4 { margin: 0 0 5px; color: var(--secondary-color); font-size: 1rem; }
    .item-price { color: #888; font-size: 0.9rem; }

    /* Footer Card */
    .card-footer {
        padding: 20px 25px; background: #fcfcfc; border-top: 1px solid #eee;
        display: flex; justify-content: space-between; align-items: center;
    }
    .label { font-size: 0.9rem; text-transform: uppercase; color: #888; letter-spacing: 1px; }
    .total-amount { font-size: 1.5rem; font-weight: 800; color: var(--primary-color); }

    /* States */
    .loading-state, .empty-state { text-align: center; padding: 60px 20px; color: #999; }
    .icon { font-size: 3rem; display: block; margin-bottom: 20px; }
    .btn-discover { 
        display: inline-block; margin-top: 20px; padding: 12px 30px; 
        background: var(--primary-color); color: white; text-decoration: none; 
        border-radius: 30px; font-weight: bold; transition: 0.3s; 
    }
    .btn-discover:hover { background: var(--secondary-color); }

    .fade-in-up { animation: fadeInUp 0.6s ease-out; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
  `]
})
export class UserOrdersComponent implements OnInit {
  auth = inject(AuthService);
  orders = signal<Order[]>([]);
  loading = signal(true);

  ngOnInit() {
    const user = this.auth.currentUser();
    if (user) {
        const q = query(
            collection(db, "orders"), 
            where("userId", "==", user.uid),
            orderBy("createdAt", "desc")
        );
        onSnapshot(q, (snapshot) => {
            this.orders.set(snapshot.docs.map(d => {
                const data = d.data();
                return { 
                    id: d.id, 
                    ...data, 
                    date: data['createdAt'] || data['date'] // Fallback si createdAt n'existe pas
                } as Order;
            }));
            this.loading.set(false);
        });
    } else {
        this.loading.set(false);
    }
  }

  getStatusClass(status: string) {
      const s = status.toLowerCase();
      if (s.includes('livr√©') || s.includes('termin√©')) return 'status-livree';
      if (s.includes('annul√©')) return 'status-annulee';
      return 'status-en-cours';
  }
}

------------------------------
üìÑ Fichier : src/app/pages/login/login.component.ts
------------------------------
import { Component, signal, inject } from '@angular/core';
import { CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';
import { Router, RouterLink } from '@angular/router';
import { AuthService } from '../../services/auth.service';

@Component({
  selector: 'app-login',
  standalone: true,
  imports: [CommonModule, FormsModule, RouterLink],
  template: `
    <div class="auth-bg">
        <div class="auth-overlay"></div>
        <div class="auth-card fade-in-up">
            <div class="auth-header">
                <h2>Bon retour</h2>
                <p>Connectez-vous pour savourer votre caf√©.</p>
            </div>
            
            <form (ngSubmit)="login()">
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" [(ngModel)]="email" name="email" class="input-modern" placeholder="exemple@email.com" required>
                </div>
                <div class="form-group">
                    <label>Mot de passe</label>
                    <input type="password" [(ngModel)]="password" name="pass" class="input-modern" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
                </div>
                
                <p *ngIf="error()" class="error-msg">{{ error() }}</p>
                
                <button type="submit" class="btn-primary w-100" [disabled]="loading()">
                    {{ loading() ? 'Connexion...' : 'Se connecter' }}
                </button>
            </form>

            <div class="divider"><span>OU</span></div>

            <!-- Bouton Google Seul -->
            <button (click)="google()" class="btn-google w-100">
                <img src="https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg" alt="G" class="google-icon">
                Continuer avec Google
            </button>

            <p class="auth-footer">
                Nouveau client ? <a routerLink="/signup">Cr√©er un compte</a>
            </p>
        </div>
    </div>
  `,
  styles: [`
    .auth-bg {
        min-height: 100vh; display: flex; align-items: center; justify-content: center;
        background: url('https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?q=80&w=2000') center/cover;
        position: relative; padding: 20px;
    }
    .auth-overlay { position: absolute; inset: 0; background: rgba(43,29,22,0.7); backdrop-filter: blur(8px); }
    
    .auth-card {
        position: relative; z-index: 2; background: white; padding: 50px 40px;
        border-radius: 20px; width: 100%; max-width: 450px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.4);
        border-top: 5px solid var(--primary-color);
    }

    .auth-header { text-align: center; margin-bottom: 35px; }
    .auth-header h2 { font-size: 2.2rem; margin: 0; color: var(--primary-dark); font-family: 'Playfair Display', serif; }
    .auth-header p { color: #888; margin-top: 5px; font-size: 1rem; }
    
    .form-group { margin-bottom: 25px; }
    .form-group label { display: block; font-weight: 600; margin-bottom: 8px; font-size: 0.9rem; color: var(--secondary-color); letter-spacing: 0.5px; }
    
    .input-modern {
        width: 100%; padding: 14px 15px; border: 1px solid #e0e0e0; border-radius: 8px;
        font-size: 1rem; background: #fafafa; transition: 0.3s;
        box-sizing: border-box; /* Important pour √©viter le d√©bordement */
    }
    .input-modern:focus { border-color: var(--accent-color); background: #fff; box-shadow: 0 0 0 4px rgba(212,163,115,0.15); outline: none; }
    
    .w-100 { width: 100%; }
    .btn-primary {
        padding: 15px; font-size: 1rem; letter-spacing: 1px; text-transform: uppercase;
        border-radius: 50px; width: 100%; cursor: pointer; transition: 0.3s;
        background: var(--primary-color); color: white; border: none; font-weight: bold;
        box-shadow: 0 5px 15px rgba(111,78,55,0.3);
    }
    .btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 20px rgba(111,78,55,0.4); background: var(--secondary-color); }
    .btn-primary:disabled { background: #ccc; cursor: not-allowed; transform: none; box-shadow: none; }

    .error-msg { color: #e74c3c; background: #fdecea; padding: 12px; border-radius: 8px; text-align: center; font-size: 0.9rem; margin-bottom: 20px; border: 1px solid #fadbd8; }
    
    .divider { margin: 30px 0; text-align: center; border-bottom: 1px solid #eee; line-height: 0.1em; }
    .divider span { background: #fff; padding: 0 15px; color: #aaa; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 1px; }
    
    .btn-google { 
        background: white; border: 1px solid #ddd; padding: 12px; border-radius: 50px; 
        font-weight: 600; color: #555; display: flex; align-items: center; justify-content: center; 
        gap: 12px; cursor: pointer; transition: 0.3s; width: 100%; font-size: 0.95rem;
    }
    .btn-google:hover { background: #f9f9f9; border-color: #ccc; transform: translateY(-1px); }
    .google-icon { width: 20px; height: 20px; }
    
    .auth-footer { text-align: center; margin-top: 35px; font-size: 0.95rem; color: #666; border-top: 1px solid #f5f5f5; padding-top: 20px; }
    .auth-footer a { color: var(--accent-color); font-weight: 700; text-decoration: none; transition: color 0.2s; }
    .auth-footer a:hover { color: var(--primary-color); text-decoration: underline; }
    
    .fade-in-up { animation: fadeIn 0.8s cubic-bezier(0.22, 1, 0.36, 1); }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(40px); } to { opacity: 1; transform: translateY(0); } }
  `]
})
export class LoginComponent {
  email = ''; password = ''; error = signal(''); loading = signal(false);
  auth = inject(AuthService); router = inject(Router);

  async login() {
    this.loading.set(true);
    try { await this.auth.signIn(this.email, this.password); this.router.navigate(['/']); }
    catch(e:any) { this.error.set("Email ou mot de passe incorrect."); }
    finally { this.loading.set(false); }
  }
  async google() {
    try { await this.auth.signInWithGoogle(); this.router.navigate(['/']); }
    catch(e:any) { this.error.set("Erreur Google."); }
  }
}

------------------------------
üìÑ Fichier : src/app/services/auth.service.ts
------------------------------
import { Injectable, signal } from '@angular/core';
import { initializeApp } from "firebase/app";
import { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, onAuthStateChanged, GoogleAuthProvider, FacebookAuthProvider, signInWithPopup, User } from "firebase/auth";
import { environment } from '../../environments/environment';

const app = initializeApp(environment.firebaseConfig);
const auth = getAuth(app);
const googleProvider = new GoogleAuthProvider();
const facebookProvider = new FacebookAuthProvider();

@Injectable({ providedIn: 'root' })
export class AuthService {
  private ADMIN_EMAIL = 'litaliano@gmail.com';
  currentUser = signal<User | null>(null);
  isAdmin = signal(false);
  isAuthenticated = signal(false);

  constructor() {
    onAuthStateChanged(auth, (user) => {
      this.currentUser.set(user);
      this.isAuthenticated.set(!!user);
      this.isAdmin.set(user?.email === this.ADMIN_EMAIL);
    });
  }

  async signIn(email: string, pass: string) { return signInWithEmailAndPassword(auth, email, pass); }
  async signInWithGoogle() { return signInWithPopup(auth, googleProvider); }
  async signInWithFacebook() { return signInWithPopup(auth, facebookProvider); }
  async signUp(email: string, pass: string) { return createUserWithEmailAndPassword(auth, email, pass); }
  async signOut() { return signOut(auth); }
}

------------------------------
üìÑ Fichier : src/app/services/cart.service.ts
------------------------------
import { Injectable, signal, computed } from '@angular/core';
import { initializeApp } from "firebase/app";
import { getFirestore, collection, addDoc, serverTimestamp } from "firebase/firestore";
import { environment } from '../../environments/environment';

const app = initializeApp(environment.firebaseConfig);
const db = getFirestore(app);

export interface CartItem {
  id: string; name: string; price: number; quantity: number; imageUrl: string;
}

@Injectable({ providedIn: 'root' })
export class CartService {
  cartItems = signal<CartItem[]>([]);
  
  subTotal = computed(() => this.cartItems().reduce((acc, item) => acc + (item.price * item.quantity), 0));
  itemCount = computed(() => this.cartItems().reduce((acc, item) => acc + item.quantity, 0));

  constructor() { this.loadCart(); }

  private loadCart() {
    if (typeof localStorage !== 'undefined') {
        const saved = localStorage.getItem('litaliano_cart');
        if (saved) { try { this.cartItems.set(JSON.parse(saved)); } catch (e) { this.cartItems.set([]); } }
    }
  }
  private save() { if (typeof localStorage !== 'undefined') localStorage.setItem('litaliano_cart', JSON.stringify(this.cartItems())); }

  addItem(product: any, quantity: number = 1) {
    this.cartItems.update(items => {
      const existing = items.find(i => i.id === product.id);
      if (existing) existing.quantity += quantity;
      else items.push({ id: product.id, name: product.name, price: Number(product.price), quantity, imageUrl: product.imageUrl });
      return [...items];
    });
    this.save();
  }

  removeItem(id: string) {
    this.cartItems.update(items => items.filter(i => i.id !== id));
    this.save();
  }

  updateQuantity(id: string, qty: number) {
    if (qty <= 0) return this.removeItem(id);
    this.cartItems.update(items => {
      const item = items.find(i => i.id === id);
      if (item) item.quantity = qty;
      return [...items];
    });
    this.save();
  }

  clearCart() { this.cartItems.set([]); this.save(); }
  
  // Mise √† jour de la fonction checkout pour inclure userId et commentaire
  async checkout(details: any, userId: string | null, comment: string) {
    if (this.cartItems().length === 0) return;
    
    const order = {
        customer: details,
        items: this.cartItems(),
        total: this.subTotal(),
        createdAt: serverTimestamp(),
        status: 'En cours',
        userId: userId, // Lien avec l'utilisateur si connect√©
        comment: comment || '' // Commentaire optionnel
    };
    
    await addDoc(collection(db, 'orders'), order);
    this.clearCart();
  }
}

------------------------------
üìÑ Fichier : src/app/app.scss
------------------------------

------------------------------
üìÑ Fichier : src/main.ts
------------------------------
import { bootstrapApplication } from '@angular/platform-browser';
import { appConfig } from './app/app.config';
import { AppComponent } from './app/app.component';
bootstrapApplication(AppComponent, appConfig).catch((err) => console.error(err));

------------------------------
üìÑ Fichier : src/environments/environment.ts
------------------------------
export const environment = {
  production: false,
  firebaseConfig: {
    apiKey: "AIzaSyDi-5L4KuACVhksL29QHvElX5t4eZTr_Zs",
    authDomain: "litalianocoffee.firebaseapp.com",
    projectId: "litalianocoffee",
    storageBucket: "litalianocoffee.firebasestorage.app",
    messagingSenderId: "846586154136",
    appId: "1:846586154136:web:04171c50dc8777aa9654ed",
    measurementId: "G-VDHDFEHDSV"
  },
  supabaseConfig: {
    // CL√â SECR√àTE UTILIS√âE TEMPORAIREMENT POUR LE D√âVELOPPEMENT. DOIT √äTRE REMPLAC√âE PAR LA CL√â PUBLIQUE + RLS EN PROD.
    url: 'https://qailxxltsofkgtfkgzhv.supabase.co',
    key: 'sb_secret_Qxw6yEx9L0hDSNg6uZo4Yg_GvmWX68x',
    bucket: 'propositionspourkerkennah'
  }
};

------------------------------
üìÑ Fichier : src/styles.scss
------------------------------
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap');

:root {
  --primary-color: #6f4e37;    /* Brun Caf√© √©l√©gant */
  --secondary-color: #2c3e50;  /* Gris sombre pour le texte */
  --accent-color: #d4a373;     /* Dor√© pour les d√©tails */
  --cart-orange: #ff9f43;      /* ORANGE pour le Panier (Action) */
  --light-bg: #f9f9f9;
  --header-bg: #ffffff;        /* Header blanc pour la propret√© */
  --text-color: #333;
  --success-color: #27ae60;
  --error-color: #e74c3c;
}

body, html { margin: 0; padding: 0; font-family: 'Lato', sans-serif; color: var(--text-color); background-color: var(--light-bg); overflow-x: hidden; }
h1, h2, h3, h4 { font-family: 'Playfair Display', serif; margin-bottom: 1rem; color: var(--secondary-color); }

/* Layout */
.page-container { padding: 120px 20px 60px; max-width: 1400px; margin: 0 auto; min-height: 80vh; }
button { cursor: pointer; transition: all 0.3s ease; }
input { outline: none; }

/* Composants UI */
.btn-primary { background: var(--primary-color); color: white; padding: 12px 30px; border-radius: 50px; border: none; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; }
.btn-primary:hover { background: var(--secondary-color); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }

.input-modern { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1rem; transition: 0.3s; }
.input-modern:focus { border-color: var(--cart-orange); box-shadow: 0 0 0 3px rgba(255, 159, 67, 0.1); }

